@startuml
title Delete Product

actor User
participant "productList.html" as Frontend
participant "productController" as Controller
participant "productService" as Service
participant "productDAO" as DAO
participant "Database" as DB

User -> Frontend : Click delete on product
Frontend -> Controller : DELETE /product/delete/{productId}
Controller -> Service : deleteProduct(productId)
Service -> DAO : removeProductById(productId)

alt Product Found and Deleted
    DAO -> DB : DELETE FROM Product WHERE productId=?
    DB -> DAO : success
    DAO -> Service : true
    Service -> Controller : true
    Controller -> Frontend : 200 OK\n"product deleted successfully"
    Frontend -> User : Show success message

else Product Not Found
    DAO -> DB : DELETE FROM Product WHERE productId=?
    DB --> DAO : No matching product
    DAO --> Service : error: product not found
    Service --> Controller : error: product not found
    Controller --> Frontend : 404 Not Found\n"product does not exist"
    Frontend --> User : Show 'Product not found' message

else Server Error
    DAO -> DB : DELETE FROM Product
    DB --> DAO : DB error
    DAO --> Service : error: server issue
    Service --> Controller : error: server issue
    Controller --> Frontend : 500 Internal Server Error\n"deleting product failed"
    Frontend --> User : Show 'Server error' message

end
@enduml
